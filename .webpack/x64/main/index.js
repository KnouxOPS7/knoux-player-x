(()=>{"use strict";var e={157(e){e.exports=require("electron")},354(e,n,r){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(157),i=t(r(896)),s=t(r(928)),a=r(937);let l=null;function d(e){try{if(i.default.existsSync(e))return e;const n=s.default.join(process.cwd(),".webpack","x64","renderer","main_window","preload.js");if(i.default.existsSync(n))return n;const r=s.default.join(process.cwd(),".webpack","renderer","main_window","preload.js");return i.default.existsSync(r)?r:e}catch(n){return e}}function u(){l=new o.BrowserWindow({width:1200,height:800,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:d(require("path").resolve(__dirname,"../renderer","main_window","preload.js"))}}),l.loadURL(`file://${require("path").resolve(__dirname,"..","renderer","main_window","index.html")}`),l.on("closed",()=>{l=null})}o.app.whenReady().then(()=>{(0,a.setupDSPMainHandler)(),o.session.defaultSession.setPermissionRequestHandler((e,n,r)=>{r(["notifications","fullscreen","pointerLock","openExternal"].includes(n))}),u()}),o.app.on("window-all-closed",()=>{"darwin"!==process.platform&&o.app.quit()}),o.app.on("activate",()=>{0===o.BrowserWindow.getAllWindows().length&&u()})},896(e){e.exports=require("fs")},928(e){e.exports=require("path")},937(e,n,r){var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))(function(o,i){function s(e){try{l(t.next(e))}catch(e){i(e)}}function a(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(s,a)}l((t=t.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.setupDSPMainHandler=n.setupDSPRendererBridge=void 0;const o=r(157);n.setupDSPRendererBridge=()=>({processAudio:(e,n)=>t(void 0,void 0,void 0,function*(){return yield o.ipcRenderer.invoke("knux:dsp:process",e,n)}),applyPreset:e=>t(void 0,void 0,void 0,function*(){return yield o.ipcRenderer.invoke("knux:dsp:preset",e)})}),n.setupDSPMainHandler=()=>{o.ipcMain.handle("knux:dsp:process",(e,n,r)=>t(void 0,void 0,void 0,function*(){console.log(`[DSP] Processing buffer of ${n.length} samples with config:`,r);const e=new Float32Array(n);if(1!==r.gain)for(let n=0;n<e.length;n++)e[n]*=r.gain;return e}));const e={flat:{gain:1,bass:0,treble:0,normalize:!1,customEq:[]},"bass-boost":{gain:1,bass:8,treble:-2,normalize:!1,customEq:[]},"treble-boost":{gain:1,bass:-2,treble:8,normalize:!1,customEq:[]},"vocal-boost":{gain:1,bass:2,treble:3,normalize:!0,customEq:[0,0,2,3,4,4,3,2,0,0]},classical:{gain:1,bass:3,treble:1,normalize:!1,customEq:[2,1,0,-1,-2,-2,-1,0,1,2]}};o.ipcMain.handle("knux:dsp:preset",(n,r)=>t(void 0,void 0,void 0,function*(){return e[r]||e.flat}))}}},n={},r=function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}(354);module.exports=r})();
//# sourceMappingURL=index.js.map